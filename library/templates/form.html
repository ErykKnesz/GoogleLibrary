{% extends "index.html" %}

{% block content %}

<h3 class="mt-5">
{% if book_id %}
    Edit the following book
{% else %}
    Add a new book
{% endif %}
</h3>
<form method="POST" action="">
    {{form.hidden_tag()}}
    <div class="form-group">
        <label for="title">Title</label>
        {{ form.title(class_="form-control") }}
    </div>
    <div class="form-group">
        <label for="authors">Authors (use comma as a separator)</label>
            {% if book_id %}
                <input class="form-control" id="authors" name="authors" required="" type="text" value="{% for a in book.authors %}{{ a.name }}{{ ", " if not loop.last else "" }}{% endfor %}">
            {% else %}
                {{ form.authors(class_="form-control") }}
            {% endif %}
    </div>
    <div class="form-group">
        <label for="published_date">Publication date</label>
        {{ form.published_date(class_="form-control", placeholder="YYYY-MM-DD") }}
    </div>
    <div class="form-group">
        <label for="ISBN">ISBN</label>
        {{ form.ISBN(class_="form-control") }}
    </div>
    <div class="form-group">
        <label for="num_pages">Number of pages</label>
        {{ form.num_pages(class_="form-control") }}
    </div>
    <div class="form-group">
        <label for="cover_url">An optional link to the cover</label>
        {{ form.cover_url(class_="form-control") }}
    </div>
    <div class="form-group">
        <label for="language">Language of the book</label>
        {{ form.language(class_="form-control") }}
    </div>
    {% if book_id %}
    <button type="submit" class="btn btn-primary mt-5">Edit book</button>
    {% else %}
    <button type="submit" class="btn btn-primary mt-5">Add book</button>
    {% endif %}
</form>



{% endblock %}